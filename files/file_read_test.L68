00001000 Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 11/01/2023 16:26:00

00000000                             1  *-----------------------------------------------------------
00000000                             2  * Title      :
00000000                             3  * Written by :
00000000                             4  * Date       :
00000000                             5  * Description:
00000000                             6  *-----------------------------------------------------------
00000000                             7  
00001000                             8  START   ORG     $1000
00001000                             9  
00001000  303C 0008                 10      MOVE.W  #8,D0
00001004  4E4F                      11      TRAP    #15
00001006  23C1 000011AA             12      MOVE.L  D1,last_frame_time
0000100C                            13  
0000100C                            14      ; loads in a song binary file
0000100C  103C 0033                 15      MOVE.B  #51,D0
00001010  43F9 0000137F             16      LEA     FILENAME,A1
00001016  4E4F                      17      TRAP    #15
00001018                            18  
00001018  103C 0035                 19      MOVE.B  #53,D0
0000101C  43F9 00001394             20      LEA     FILE_CONTENTS,A1
00001022  243C 00000200             21      MOVE.L  #512,D2
00001028  4E4F                      22      TRAP    #15
0000102A                            23      
0000102A  103C 0032                 24      MOVE.B  #50,D0
0000102E  4E4F                      25      TRAP    #15
00001030                            26      
00001030                            27      ; loads in a sound
00001030                            28      ;MOVE.L  #'note',$100
00001030                            29      ;MOVE.L  #'s/a1',$104
00001030                            30      ;MOVE.L  #'0.wa',$108
00001030                            31      ;MOVE.B  #'v',$10C
00001030                            32      ;MOVE.B  #0,$10D
00001030                            33      
00001030                            34      ;MOVE.B  #74,D0
00001030                            35      ;MOVE.W  #$100,A1
00001030                            36      ;MOVE.B  #0,D1
00001030                            37      ;TRAP    #15
00001030                            38      
00001030                            39      ; plays loaded sound
00001030                            40      ;MOVE.B  #75,D0
00001030                            41      ;TRAP    #15
00001030                            42      
00001030  6100 000A                 43      BSR     LOAD_IN_ALL_NOTES
00001034  6100 0028                 44      BSR     PLAY_IN_MUSIC
00001038  FFFF FFFF                 45      SIMHALT
0000103C                            46  
0000103C                            47  LOAD_IN_ALL_NOTES
0000103C  43F9 000011AE             48      LEA     A10,A1
00001042                            49      FOR D1 = #0 TO #30  DO
0000104A  103C 004A                 50          MOVE.B  #74,D0
0000104E  4E4F                      51          TRAP    #15
00001050  D2FC 000E                 52          ADD.W   #14,A1
00001054                            53      ENDF
0000105C                            54  
0000105C  4E75                      55      RTS
0000105E                            56  
0000105E                            57  
0000105E                            58  PLAY_IN_MUSIC
0000105E  41F9 00001394             59      LEA     FILE_CONTENTS,A0
00001064  7600                      60      MOVE.L  #0,D3
00001066                            61      FOR D5 = #0 TO #63  DO
0000106E  43F9 00001360             62          LEA notes_times_array,A1
00001074                            63          FOR D6 = #0 TO #7   DO
0000107C  1610                      64              MOVE.B  (A0),D3
0000107E  7400                      65              MOVE.L  #0,D2
00001080                            66              IF.L #0 <NE> D3 THEN
0000108A                            67                  ; splits the four bits of d2 byte into d1
0000108A  0803 0007                 68                  BTST.L  #7,D3
0000108E                            69                  IF  <NE>    THEN
00001092  5002                      70                      ADD.B   #8,D2
00001094  0403 0080                 71                      SUB.B   #128,D3
00001098                            72                  ENDI
00001098  0803 0006                 73                  BTST.L  #6,D3
0000109C                            74                  IF  <NE>    THEN
000010A0  5802                      75                      ADD.B   #4,D2
000010A2  0403 0040                 76                      SUB.B   #64,D3
000010A6                            77                  ENDI
000010A6  0803 0005                 78                  BTST.L  #5,D3
000010AA                            79                  IF  <NE>    THEN
000010AE  5402                      80                      ADD.B   #2,D2
000010B0  0403 0020                 81                      SUB.B   #32,D3
000010B4                            82                  ENDI
000010B4  0803 0004                 83                  BTST.L  #4,D3
000010B8                            84                  IF  <NE>    THEN
000010BC  5202                      85                      ADD.B   #1,D2
000010BE  0403 0010                 86                      SUB.B   #16,D3
000010C2                            87                  ENDI
000010C2                            88                  ; checks if note is played
000010C2                            89                  IF #0 <NE> D2   THEN
000010CA  1206                      90                      MOVE.B  D6,D1
000010CC  D206                      91                      ADD.B   D6,D1
000010CE  0802 0003                 92                      BTST.L  #3,D2
000010D2                            93                      IF  <NE>    THEN
000010D6  0601 0010                 94                          ADD.B   #16,D1
000010DA  5102                      95                          SUB.B   #8,D2
000010DC  D3FC 00000010             96                          ADD.L   #16,A1
000010E2  1282                      97                          MOVE.B  D2,(A1)
000010E4  93FC 00000010             98                          SUB.L   #16,A1
000010EA                            99                      ELSE
000010EE  1282                     100                          MOVE.B  D2,(A1)
000010F0                           101                      ENDI
000010F0  103C 004B                102                      MOVE.B  #75,D0
000010F4  4E4F                     103                      TRAP    #15
000010F6                           104                  ENDI
000010F6                           105                  IF #0 <NE> D3   THEN
000010FE  1206                     106                      MOVE.B  D6,D1
00001100  D206                     107                      ADD.B   D6,D1
00001102  5201                     108                      ADD.B   #1,D1
00001104  0803 0003                109                      BTST.L  #3,D3
00001108                           110                      IF  <NE>    THEN
0000110C  0601 0010                111                          ADD.B   #16,D1
00001110  5103                     112                          SUB.B   #8,D3
00001112  D3FC 00000010            113                          ADD.L   #16,A1
00001118  1283                     114                          MOVE.B  D3,(A1)
0000111A  93FC 00000010            115                          SUB.L   #16,A1
00001120                           116                      ELSE
00001124  1283                     117                          MOVE.B  D3,(A1)
00001126                           118                      ENDI
00001126  103C 004B                119                      MOVE.B  #75,D0
0000112A  4E4F                     120                      TRAP    #15
0000112C                           121                  ENDI
0000112C                           122              ENDI
0000112C  5248                     123              ADD.W   #1,A0
0000112E  5289                     124              ADD.L   #1,A1
00001130                           125          ENDF
0000113A                           126          ; loops over music time array
0000113A                           127          ; decrements times for each note
0000113A  43F9 00001360            128          LEA notes_times_array,A1
00001140                           129          FOR D6 = #0 TO #30  DO
00001148  D3C6                     130              ADD.L   D6,A1
0000114A                           131              IF.B    (A1) <NE> #0    THEN
00001152                           132                  IF.B    (A1) <NE> #$FF  THEN
0000115A  5311                     133                      SUB.B   #1,(A1)
0000115C                           134                      IF.B    (A1) <EQ> #0    THEN
00001164                           135                          ; stops a note playing
00001164  1206                     136                          MOVE.B  D6,D1
00001166  7402                     137                          MOVE.L  #2,D2
00001168  103C 004D                138                          MOVE.B  #77,D0
0000116C  4E4F                     139                          TRAP    #15
0000116E                           140                      ENDI
0000116E                           141                  ENDI
0000116E                           142              ENDI
0000116E  93C6                     143              SUB.L   D6,A1
00001170                           144          ENDF
00001178  6100 000E                145          BSR FRAME_DELAY
0000117C                           146      ENDF
00001186                           147  
00001186  4E75                     148      RTS
00001188                           149  
00001188                           150  
00001188                           151  FRAME_DELAY
00001188  303C 0008                152          MOVE.W  #8,D0       ; gets the time
0000118C  4E4F                     153          TRAP    #15
0000118E                           154  
0000118E  92B9 000011AA            155          SUB.L   last_frame_time,D1  ; subtracts the two times
00001194  B2BC 0000000A            156          CMP.L   #10,D1               ; n number of centiseconds have passed
0000119A  65EC                     157          BLO     frame_delay
0000119C                           158  
0000119C  303C 0008                159          MOVE.W  #8,D0               ; save time
000011A0  4E4F                     160          TRAP    #15
000011A2  23C1 000011AA            161          MOVE.L  D1,last_frame_time
000011A8                           162  
000011A8  4E75                     163          RTS
000011AA                           164  
000011AA                           165  last_frame_time         DS.L    1   ; stores the time at last frame
000011AE                           166  
000011AE                           167  ; notes names
000011AE= 6E 6F 74 65 73 2F ...    168  A10 DC.B    'notes/a10.wav',0
000011BC= 6E 6F 74 65 73 2F ...    169  B10 DC.B    'notes/b10.wav',0
000011CA= 6E 6F 74 65 73 2F ...    170  C10 DC.B    'notes/c10.wav',0
000011D8= 6E 6F 74 65 73 2F ...    171  D10 DC.B    'notes/d10.wav',0
000011E6= 6E 6F 74 65 73 2F ...    172  E10 DC.B    'notes/e10.wav',0
000011F4= 6E 6F 74 65 73 2F ...    173  F10 DC.B    'notes/f10.wav',0
00001202= 6E 6F 74 65 73 2F ...    174  G10 DC.B    'notes/g10.wav',0
00001210                           175  
00001210= 6E 6F 74 65 73 2F ...    176  A20 DC.B    'notes/a20.wav',0
0000121E= 6E 6F 74 65 73 2F ...    177  B20 DC.B    'notes/b20.wav',0
0000122C= 6E 6F 74 65 73 2F ...    178  C20 DC.B    'notes/c20.wav',0
0000123A= 6E 6F 74 65 73 2F ...    179  D20 DC.B    'notes/d20.wav',0
00001248= 6E 6F 74 65 73 2F ...    180  E20 DC.B    'notes/e20.wav',0
00001256= 6E 6F 74 65 73 2F ...    181  F20 DC.B    'notes/f20.wav',0
00001264= 6E 6F 74 65 73 2F ...    182  G20 DC.B    'notes/g20.wav',0
00001272                           183  
00001272= 6E 6F 74 65 73 2F ...    184  A30 DC.B    'notes/a30.wav',0
00001280= 6E 6F 74 65 73 2F ...    185  B30 DC.B    'notes/b30.wav',0
0000128E                           186  
0000128E= 6E 6F 74 65 73 2F ...    187  A11 DC.B    'notes/a11.wav',0
0000129C= 6E 6F 74 65 73 2F ...    188  B11 DC.B    'notes/b11.wav',0
000012AA= 6E 6F 74 65 73 2F ...    189  C11 DC.B    'notes/c11.wav',0
000012B8= 6E 6F 74 65 73 2F ...    190  D11 DC.B    'notes/d11.wav',0
000012C6= 6E 6F 74 65 73 2F ...    191  E11 DC.B    'notes/e11.wav',0
000012D4= 6E 6F 74 65 73 2F ...    192  F11 DC.B    'notes/f11.wav',0
000012E2= 6E 6F 74 65 73 2F ...    193  G11 DC.B    'notes/g11.wav',0
000012F0                           194  
000012F0= 6E 6F 74 65 73 2F ...    195  A21 DC.B    'notes/a21.wav',0
000012FE= 6E 6F 74 65 73 2F ...    196  B21 DC.B    'notes/b21.wav',0
0000130C= 6E 6F 74 65 73 2F ...    197  C21 DC.B    'notes/c21.wav',0
0000131A= 6E 6F 74 65 73 2F ...    198  D21 DC.B    'notes/d21.wav',0
00001328= 6E 6F 74 65 73 2F ...    199  E21 DC.B    'notes/e21.wav',0
00001336= 6E 6F 74 65 73 2F ...    200  F21 DC.B    'notes/f21.wav',0
00001344= 6E 6F 74 65 73 2F ...    201  G21 DC.B    'notes/g21.wav',0
00001352                           202  
00001352= 6E 6F 74 65 73 2F ...    203  A31 DC.B    'notes/a31.wav',0
00001360                           204  
00001360                           205  notes_times_array   DS.B    31
0000137F                           206  
0000137F                           207  
0000137F= 73 6F 6E 67 73 2F ...    208  FILENAME    DC.B    'songs/number_one.sun',0
00001394                           209  FILE_CONTENTS   DS.B    512
00001594                           210  
00001594                           211      END    START

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
A10                 11AE
A11                 128E
A20                 1210
A21                 12F0
A30                 1272
A31                 1352
B10                 11BC
B11                 129C
B20                 121E
B21                 12FE
B30                 1280
C10                 11CA
C11                 12AA
C20                 122C
C21                 130C
D10                 11D8
D11                 12B8
D20                 123A
D21                 131A
E10                 11E6
E11                 12C6
E20                 1248
E21                 1328
F10                 11F4
F11                 12D4
F20                 1256
F21                 1336
FILENAME            137F
FILE_CONTENTS       1394
FRAME_DELAY         1188
G10                 1202
G11                 12E2
G20                 1264
G21                 1344
LAST_FRAME_TIME     11AA
LOAD_IN_ALL_NOTES   103C
NOTES_TIMES_ARRAY   1360
PLAY_IN_MUSIC       105E
START               1000
_00000000           112C
_00000001           1098
_00000002           10A6
_00000003           10B4
_00000004           10C2
_00000005           10F6
_00000006           10EE
_00000007           10F0
_00000008           112C
_00000009           1124
_0000000A           1126
_0000000B           116E
_0000000C           116E
_0000000D           116E
_20000000           104A
_20000001           1056
_20000002           106E
_20000003           117E
_20000004           107C
_20000005           1132
_20000006           1148
_20000007           1172
